<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>浅拷贝</title>
</head>
<body>
    <script>
        // 浅拷贝
        function clone1(target) {
            if (typeof target === 'object' && target !== null) {
                let cloneTarget = Array.isArray(target) ? [] : {};
                for (let prop in target) {
                    if (target.hasOwnProperty(prop)) {
                        cloneTarget[prop] = target[prop];
                    }
                }
                return cloneTarget;
            } else {
                return target;
            }
        }

        var obj1 = {
            name: 'lili'
        }
        var obj2 = clone1(obj1);
        obj1.height = 120;
        obj2.weight = 70;
        console.log('obj1', obj1, 'onj2', obj2, obj1 === obj2);
        console.log('')


        // object.assign()
        var obj3 = {
            name: 'haha'
        }
        var obj4 = Object.assign(obj3);
        console.log('obj3', obj3, 'obj4', obj4, obj3 === obj4);
        console.log('')

        // [...]
        var obj5 = {
            name: 'hhee'
        }
        var obj6 = {...obj5};
        console.log('obj5', obj5, 'obj6', obj6, obj5 === obj6);
        console.log('')

        // concat
        var arr1 = [1,2,3]
        var arr2 = arr1.concat();
        console.log('arr1', arr1, 'arr2', arr2, arr1 === arr2);
        console.log('')

        // slice
        var arr3 = [1,2,3]
        var arr4 = arr1.slice();
        console.log('arr3', arr3, 'arr4', arr4, arr3 === arr4);
        console.log('')


        // gender为只读属性，修改失败，错误之前的属性添加成功，之后的添加失败
        var obj7 = Object.defineProperty({}, 'gender', {
            value: 1,
            writable: false
        })
        var obj8 = {
            name: 'sari',
            height: 180,
            gender: 0,
            weight: 120,
            look: 'big'
        }
        obj7 = Object.assign(obj7, obj8);
        console.log('obj7', obj7);
    </script>
</body>
</html>